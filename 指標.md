# 指標

指標代表存記憶體位址的變數  
`&` 用來取址，`*` 用來取值。
![image](https://github.com/xixa3333/C-Plus-Plus-Textbook/blob/main/%E6%8C%87%E6%A8%99.png)

## 記憶體位址

- 如果為陣列的記憶體位址：
  - 索引值 0 的位址會與索引值 1 的位址相差宣告的型態所耗的 byte。
  - 位址會是連續的。

## 變數指標

```cpp
int num1 = 5;
int num2 = 6;
int* num_1 = &num1;  // num1 的址取出存入 num_1
cout << *num_1;      // 取出 num1 的址裡的值去顯示
*num_1 = num2;        // num_1 的址裡的值變為 num2 的值
cout << num1;        // 顯示 num1 裡的值，因為址跟 num_1 是一樣的，所以值會是 num2 的值
```

## 雙重變數指標

```cpp
int **num;

//這可以存入放值的位址的位址。
int num1=5;
int *num_1=&num1;      // 取得 num1 的位址存入 num_1
int **num_1=&num_1;    // 將 num_1 的位址取出存入 num_1
```

## 變數陣列指標

```cpp
int c[3]={1,2,3};
int* b=c;             // 如果只寫 c 則會是 c[0] 的位址
cout << *(b+1);       // 將 b 存的位址偏移1後取出值顯示，也就是顯示 c[1] 的值
```
```cpp
int c[3]={1,2,3};
int (*a)[3];           // 宣告可放入一個可存入3個元素陣列的位址
a = &c;                // 取出整個的位址给 a
cout << a[0];          // 會顯示 c 索引值 0 的位址，則 a 索引值 1 會是顯示原位址加 3*4 的位址
```

## 二維陣列指標

```cpp
int c[3][3]={{1,2,3},{4,5,6}};
int* b=c;             // 如果只寫 c 則會是 c[0][0] 的位址
b=c[1];               // 如果寫 c[1] 則會是 c[1][0] 的位址，c[2] 則是 c[2][0] 的位址，以此類推
cout << *(b+1);       // 將 b 存的位址偏移1後取出值顯示，也就是顯示 c[1][1] 的值
```
```cpp
int c[3][2]={};
int (*a)[3][2];        // 宣告可放入一個可存入3列2行元素陣列的位址
a = &c;                // 取出整個的位址給 a
cout << a[1];          // 會顯示 c 索引值 0 的位址加 3*2*4 的位址
cout << a[1][1];       // 會顯示 c 索引值 0 的位址加 (3*2+2)*4 的位址
```

## 函數指標

```cpp
int (*a)(int);         // 這可以存入 int 函數的位址
```
```cpp
int (*a[10])(int);     // 這可以存入 10 個 int 函數的位址
```

## 專業術語整理

```cpp
int *a;               // 寫告為1個指向整數的指標
int **a;              // 宣告為1個指向(指向整數的指標)的指標
int *a[10];           // 宣告為1個(10個指向整數的指標)的陣列
int (*a)[10];         // 宣告為1個指向有10個整數陣列的指標
int (*a)(int);        // 宣告為1個指向整數函數並返回整數的指標
int (*a[10])(int);    // 宣告為1個有(10個(指向整數函數並返回整數)的指標)的陣列
```

## 上一章：[前置處理](https://github.com/xixa3333/C-Plus-Plus-Textbook/blob/main/%E5%89%8D%E7%BD%AE%E8%99%95%E7%90%86.md)
## 下一章：[亂數與時間](https://github.com/xixa3333/C-Plus-Plus-Textbook/blob/main/%E4%BA%82%E6%95%B8%E8%88%87%E6%99%82%E9%96%93.md)
